# (MODX)EvolutionCMS.plugins.ManagerManager.mm_ddMap changelog


## Версия 1.7 (2023-05-24)
* \+ Параметры → `$params->fields`: Также может быть задан, как массив, а не только строка, разделённая запятыми.
* \+ Виджет будет отображать оригинальный текстовое поле с координатами, если вдруг загрузка Яндекс Карт не удалась.
* \* Виджет переименован из `mm_ddYMap` в `mm_ddMap` поскольку в будущем, вероятно, добавим также Google Maps и OpenStreetMap (пожалуйста, [напишите нам](https://t.me/dd_code) если вам нужно такое).
* \* [jQuery.ddMap](https://github.com/DivanDesign/jQuery.ddMap) обновлена с 1.4 до 2.0.
* \+ README, README_ru.
* \+ CHANGELOG, CHANGELOG_ru.
* \+ Composer.json.


## Версия 1.6 (2016-11-25)
* \* Корректно работает с HTTPS. Большое спасибо [@byscrimm](https://github.com/byscrimm).
* \* Параметры:
	* \* Виджет теперь использует «именованные» параметры, см. README → Примеры (обратная совместимость сохранена).
	* \+ `$params->defaultZoom`: Новый параметр. Позволяет задать дефолтный масштаб карты.
	* \+ `$params->defaultPosition`: Новый параметр. Позволяет задать дефолтную позицию карты, когда поле документа пустое. Большое спасибо [MrSwed](https://github.com/MrSwed) и всем неравнодушным.
* \* Заголовок секции карты теперь содержит все HTML-теги из оригинального заголовка поля.
* \* jQuery.ddYMap обновлена до 1.4.
* \* Внимание! Требуется PHP >= 5.4 is required.
* \* Внимание! Требуется (MODX)EvolutionCMS.plugins.ManagerManager >= 0.7.


## Версия 1.5b (2015-05-08)
* \* Используется API Яндекс Карт версии 2.1, для вывода карты используется плагин jQuery.ddYMap 1.3.1.
* \* При создании секции убран лишний класс `tmplvars` у `div.sectionBody`.
* \* Параметры `$w` и `$h` переименованы в `$width` и `$height` соответственно.


## Версия 1.4.3 (2013-12-10)
* \* Незначительные изменения.
* \* Переносы строк в файлах сейчас в Unix-стиле.


## Версия 1.4.2 (2013-11-15)
* \* Вызовы функции `includeJs` заменены на вызовы `includeJsCss`.
* \* Подключение необходимых js и css вынесено в отдельное событие `OnDocFormPrerender`, файлы сейчас подключаются в обычном html-виде, а не через js.
* \* Файл `jquery.ddMM.mm_ddYMap-1.0.1.js` переименован в `jquery.ddMM.mm_ddYMap.js`.
* \* Плагин `$.ddMM.mm_ddYMap` обновлён до 1.0.2:
	* \* За ненадобностью убрана обработка отправки формы поиска на карте (раньше был баг — срабатывала отправка основной формы документа, сейчас баг исчез).


## Версия 1.4.1 (2013-10-25)
* \* Незначительные изменения для совместимости с (MODX)EvolutionCMS.plugins.ManagerManager 0.6.


## Версия 1.4 (2013-10-04)
* \* Id шаблона текущего документа теперь просто берётся из `$mm_current_page['template']`.
* \* Js-код полностью переработан и вынесен в отдельный файл. Мало того, что это просто удобно (ничего лишнего в php), это ещё и сокращает объём исходного кода формы редактирования документа, исключая дубликаты при множественных вызовах.
* \* Карты выводятся на страницу в соответствии с порядком указания TV в параметре `$tvs`.
* \* Внимание! Требуется (MODX)EvolutionCMS.plugins.ManagerManager >= 0.6.


## Версия 1.3.1 (2013-06-08)
* \* Исправлена ошибка работы в Опере и IE.


## Версия 1.3 (2013-05-18)
* \+ Добавлена строка поиска по карте.


## Версия 1.2.2 (2012-11-14)
* \* Исправлен баг: при переносе маркера (drag & drop) не обновлялись координаты в поле.


## Версия 1.2.1 (2012-11-13)
* \* Исправлен баг: виджет не инициализировался при создании нового документа.
* \* Незначительные изменения кода.


## Версия 1.2 (2012-05-02)
* \+ Переписан на работу со второй версией API Yandex Maps.
* \- Убран параметр `key` (за ненадобностью).


## Версия 1.1 (2012-04-16)
* \+ Добавлен параметр `hideField`, позволяющий скрывать/показывать оригинальное поле с координатами.
* \* Небольшие изменения в js-коде.


## Версия 1.0.1 (2012-01-13)
* \+ Добавлена проверка события modx на `OnDocFormRender`.


<link rel="stylesheet" type="text/css" href="https://raw.githack.com/DivanDesign/CSS.ddMarkdown/master/style.min.css" />
<style>ul{list-style:none;}</style>