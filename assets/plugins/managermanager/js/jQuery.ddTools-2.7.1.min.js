/* jQuery.ddTools v2.7.1 (2023-09-18) | © https://Ronef.ru */
!function(e){e.ddTools={$html:e(),$window:e(),$body:e(),windowWidth:0,windowHeight:0,windowScrollTop:0,scrollbarSize:0,cookieOpt:{expires:365,path:"/"},ddErrorData:{title:"Непредвиденная ошибка =(",message:"Во вселенной случилось что-то ужасное и непонятное.<br />Пожалуйста, попробуйте чуть позже.",email:"",$dialog:null},isEmpty:function(r){return null==r||"number"==typeof r&&isNaN(r)||"string"==typeof r&&0==r.length||e.isNumeric(r)&&0==r||(Array.isArray(r)||r instanceof jQuery)&&0==r.length||(r instanceof Map||r instanceof Set)&&0==r.size||e.isPlainObject(r)&&e.isEmptyObject(r)},parseInt:function(e){return e=void 0===e?"0":e+"",(e=parseInt(e.replace(/[^\d-]/g,""),10))||0},parseFloat:function(r,t){return r=void 0===r?"0":r+"",r=parseFloat(r.replace(/[^\d\-\+.,]/g,"").replace(/,/g,"."))||0,e.isNumeric(t)&&(r=parseFloat(r.toFixed(t))),r||0},numberFormat:function(r){return e.isPlainObject(r)||(r={number:r}),(r=e.extend({thousandsSeparator:" "},r)).number.toString().replace(/(\d)(?=(\d{3})+\D|(\d{3})+$)/g,"$1"+r.thousandsSeparator)},loopArrayIndex:function(e){var r=e.index;return e.index<0?r=e.array.length+e.index:e.index>=e.array.length&&(r=e.index-e.array.length),r},getObjectKeys:function(r){return void 0!==Object.keys?Object.keys(r):e.map(r,(function(e,r){return r}))},objectToJSON:function(r){if(JSON&&"function"==typeof JSON.stringify)return JSON.stringify(r);var t=new Array,n=e.isPlainObject(r),o="",a="";for(var d in n?(o="{",a="}"):Array.isArray(r)&&(o="[",a="]"),r){var i=r[d];e.isPlainObject(i)||Array.isArray(i)?i=e.ddTools.objectToJSON(i):"number"!=typeof i&&(i='"'+i+'"'),n?t.push('"'+d+'":'+i):Array.isArray(r)&&t.push(i)}return o+t.join(",")+a},parseText:function(r){var t=(r=e.extend({removeEmptyPlaceholders:!1},r)).text,n=function(r,t){var o={};for(var a in t||(t=""),r)e.isPlainObject(r[a])?e.extend(o,n(r[a],t+a+".")):o[t+a]=r[a];return o};for(var o in r.data=n(r.data),r.data){var a=new RegExp("\\[\\+"+o+"\\+\\]","gm");t=t.replace(a,r.data[o])}return r.removeEmptyPlaceholders&&(t=t.replace(/\[\+\S+\+\]/gm,"")),t},padej:function(e,r){Array.isArray(r)||(r=r.split(","));var t=e%100;return t>=10&&t<=19?r[0]:1==(t=e%10)?r[1]:t>1&&t<5?r[2]:r[0]},verifyRenamedParams:function(r){r=e.extend({source:"undefined"},r);var t=new Array;if(Object.entries(r.compliance).forEach((([e,n])=>{void 0!==r.params[n]&&void 0===r.params[e]&&(r.params[e]=r.params[n],delete r.params[n],t.push("“"+n+"” must be renamed as “"+e+"”;"))})),t.length>0){console.group(r.source),console.warn("Some of the parameters have been renamed. Please, correct the following parameters:");for(var n=0;n<t.length;n++)console.warn(t[n]);console.groupEnd()}},preloadImages:function(){var r,t,n,o=!1;"function"==typeof arguments[arguments.length-1]&&(o=arguments[arguments.length-1]);for(var a=t=Array.isArray(arguments[0])?(r=arguments[0]).length:(r=arguments).length-1,d=0;d<=t;d++)"string"==typeof(n="string"==typeof r[d]?r[d]:e(r[d]).attr("src"))&&e(new Image).on("load",(function(){--a<1&&"function"==typeof o&&o()})).attr("src",n)},getDate:function(r){r=e.extend({date:"",format:"d.m.y",shortFormat:"",curDate:"",lang:"ru2",lowerCase:!0},r||{});var n,o,a,d,i=function(r){return""==r?r=new Date:(r=new Date(r),e.isNumeric(r.getTime())||(r=new Date)),r},s=function(e,r){return(e+="").length<r?new Array(++r-e.length).join("0")+e:e};if("en"==r.lang?(n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},a=["","January","February","March","April","May","June","July","August","September","October","November","December"],d=["Today","Yesterday","Day before yesterday"]):(n=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],o={1:"ое",2:"ое",3:"ее",21:"ое",22:"ое",23:"ее",31:"ое"},d=["Сегодня","Вчера","Позавчера"],a="ru"==r.lang?["","Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]:["","Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"]),r.curDate=i(r.curDate),""==r.date?r.date=r.curDate:r.date=i(r.date),""!=r.shortFormat){var u=r.curDate.getDate()-r.date.getDate();u<1?r.format=r.shortFormat.replace("short",d[0]):u<2?r.format=r.shortFormat.replace("short",d[1]):u<3&&(r.format=r.shortFormat.replace("short",d[2]))}var l={d:function(){return s(l.j(),2)},D:function(){return t=l.l(),t.substr(0,3)},j:function(){return r.date.getDate()},l:function(){return n[l.w()]},N:function(){return l.w()+1},S:function(){return o[l.j()]?o[l.j()]:"th"},w:function(){return r.date.getDay()},z:function(){return(r.date-new Date(r.date.getFullYear()+"/1/1"))/864e5>>0},W:function(){var e,t=l.z(),n=364+l.L()-t,o=(new Date(r.date.getFullYear()+"/1/1").getDay()||7)-1;return n<=2&&(r.date.getDay()||7)-1<=2-n?1:t<=2&&o>=4&&t>=6-o?(e=new Date(r.date.getFullYear()-1+"/12/31"),date("W",Math.round(e.getTime()/1e3))):1+(o<=3?(t+o)/7:(t-(7-o))/7)>>0},F:function(){return a[l.n()]},m:function(){return s(l.n(),2)},M:function(){return t=l.F(),t.substr(0,3)},n:function(){return r.date.getMonth()+1},t:function(){var e;return 2==(e=r.date.getMonth()+1)?28+l.L():1&e&&e<8||!(1&e)&&e>7?31:30},L:function(){var e=l.Y();return 3&e||!(e%100)&&e%400?0:1},Y:function(){return r.date.getFullYear()},y:function(){return(r.date.getFullYear()+"").slice(2)},a:function(){return r.date.getHours()>11?"pm":"am"},A:function(){return l.a().toUpperCase()},B:function(){var e=60*(r.date.getTimezoneOffset()+60),t=3600*r.date.getHours()+60*r.date.getMinutes()+r.date.getSeconds()+e,n=Math.floor(t/86.4);return n>1e3&&(n-=1e3),n<0&&(n+=1e3),1==String(n).length&&(n="00"+n),2==String(n).length&&(n="0"+n),n},g:function(){return r.date.getHours()%12||12},G:function(){return r.date.getHours()},h:function(){return s(l.g(),2)},H:function(){return s(r.date.getHours(),2)},i:function(){return s(r.date.getMinutes(),2)},s:function(){return s(r.date.getSeconds(),2)},O:function(){var e=s(Math.abs(r.date.getTimezoneOffset()/60*100),4);return e=r.date.getTimezoneOffset()>0?"-"+e:"+"+e},P:function(){var e=l.O();return e.substr(0,3)+":"+e.substr(3,2)},c:function(){return l.Y()+"-"+l.m()+"-"+l.d()+"T"+l.h()+":"+l.i()+":"+l.s()+l.P()},U:function(){return Math.round(r.date.getTime()/1e3)}},c=r.format.replace(/[\\]?([a-zA-Z])/g,(function(e,r){return e!=r?r:l[r]?l[r]():r}));return r.lowerCase&&(c=c.toLowerCase()),c}},e.fn.ddSerializeToPlain=function(r){r=e.extend({ignoreInvisible:!0},r);var t=e(this),n=['input[type!="checkbox"][type!="radio"]','input[type="checkbox"]:checked',"input[type=radio]:checked","textarea","select"];if(r.ignoreInvisible)for(var o=0;o<n.length;o++)n[o]+=":visible";n.push('input[type="hidden"]');var a=t.find(':input[name][name!=""]').not("[disabled]").filter(n.join(",")),d={};return a.each((function(){var r=e(this),t=r.attr("name"),n=r.val();if("]"!=t.substr(-1))d[t]=n;else{var o=t.indexOf("["),a=-1,i=t.substr(o),s=d;for(t=t.substr(0,o);-1!=(o=i.indexOf("["))&&-1!=(a=i.indexOf("]"));){var u=i.substring(o+1,a);""==u||e.isNumeric(u)?Array.isArray(s[t])||(s[t]=[]):e.isPlainObject(s[t])||(s[t]={}),""==u&&(u=s[t].length),a+1==i.length?(s[t][u]=n,i=""):(i=i.substr(a+1),s=s[t],t=u)}}})),d},e((function(){e.ddTools.$html=e("html"),e.ddTools.$window=e(window),e.ddTools.$body=e("body"),e.ddTools.$window.on("resize",(function(){e.ddTools.windowWidth=e.ddTools.$window.width(),e.ddTools.windowHeight=e.ddTools.$window.height()})).trigger("resize");var r=e("<div></div>").css({width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px","z-index":"0"}).appendTo(e.ddTools.$body);e.ddTools.scrollbarSize=r.get(0).offsetWidth-r.get(0).clientWidth,r.remove(),e.ddTools.$window.on("scroll",(function(){e.ddTools.windowScrollTop=e.ddTools.$window.scrollTop()})).trigger("scroll"),e.ddTools.$body.on("ddError",(function(r){e.isPlainObject(r.ddError)&&!e.isEmptyObject(r.ddError)||(r.ddError={}),(e.ddTools.isEmpty(r.ddError.title)||e.ddTools.isEmpty(r.ddError.message))&&(r.ddError=e.extend({title:e.ddTools.ddErrorData.title,message:e.ddTools.ddErrorData.message},r.ddError)),e.ddTools.isEmpty(r.ddError.target)&&(r.ddError.target="unknown_"+window.location.toString()),e.ddTools.isEmpty(e.ddTools.ddErrorData.email)||(r.ddError.message+='<br /><small>А если вам не трудно, отправьте на <a href="mailto:'+e.ddTools.ddErrorData.email+'">'+e.ddTools.ddErrorData.email+'</a> адрес сайта и код ошибки: "'+r.ddError.target+'".</small>'),e.ddTools.isEmpty(e.ddTools.ddErrorData.$dialog)?console&&"function"==typeof console.log&&console.log(r.ddError):(e.ddTools.ddErrorData.$dialog.data("ddMessage",r.ddError.message),e.ddTools.ddErrorData.$dialog.dialog("option","title",r.ddError.title),e.ddTools.ddErrorData.$dialog.dialog("open"))}))}))}(jQuery);