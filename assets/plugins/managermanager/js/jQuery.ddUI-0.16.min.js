/**
 * jQuery.ddUI
 * @version 0.16 (2021-04-06)
 * 
 * @see {@link README.md}
 * 
 * @copyright 2015–2021 [DD Group]{@link https://DivanDesign.biz }
 */

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,a,d){b instanceof String&&(b=String(b));for(var c=b.length,e=0;e<c;e++){var f=b[e];if(a.call(d,f,e,b))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,d){b!=Array.prototype&&b!=Object.prototype&&(b[a]=d.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,a,d,c){if(a){d=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var e=b[c];e in d||(d[e]={});d=d[e]}b=b[b.length-1];c=d[b];a=a(c);a!=c&&null!=a&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
(function(b){b.ddUI={components:{},installComponent:function(a){a=a||{};a.name&&(this.components[a.name]=a,b.isPlainObject(a.jQueryFn)&&b.each(a.jQueryFn,function(a,c){b.isFunction(c)&&(b.fn[a]=c)}))},init:function(){b.each(this.components,function(a,d){1==d.autoInit&&b.isFunction(d.init)&&d.init()})}};b.each({ddSlideDown:{opacity:"show",height:"show","padding-top":"show","padding-bottom":"show","margin-top":"show","margin-bottom":"show"},ddSlideUp:{opacity:"hide",height:"hide","padding-top":"hide",
"padding-bottom":"hide","margin-top":"hide","margin-bottom":"hide"},ddSlideToggle:{opacity:"toggle",height:"toggle","padding-top":"toggle","padding-bottom":"toggle","margin-top":"toggle","margin-bottom":"toggle"}},function(a,d){b.fn[a]=function(a,b,f){return this.animate(d,a,b,f)}});b.ddUI.installComponent({name:"numberFormat",autoInit:!0,init:function(){b(".ddNumberFormat_element").ddNumberFormat()},jQueryFn:{ddNumberFormat:function(){return b(this).each(function(){var a=b(this);a.html(b.ddTools.numberFormat(a.html()))})}}});
b.ddUI.installComponent({name:"hints",autoInit:!0,elements:{$hintsParent:b()},init:function(){b.ddUI.components.hints.elements.$hintsParent=b('<div class="ddHints_hintsParent"></div>').appendTo(b.ddTools.$body);b(".ddHints_element").ddHints()},instance:{elements:{$element:b(),$hint:b()},construct:function(a){var d=b.ddUI.components.hints,c=b.extend(!0,{},this,a);a=c.elements.$element.data("ddHints");delete c.construct;b.isPlainObject(a)?b.extend(!0,c,a):(c.elements.$hint=b('<span class="ddHints_hintsParent_hint"></span>').hide().appendTo(d.elements.$hintsParent),
c.elements.$element.addClass("ddHints_element").on("mousemove",function(a){c.moveHint({left:a.clientX,top:a.clientY})}).on("mouseenter",function(){c.showHint()}).on("mouseleave",function(){c.hideHint()}));c.elements.$hint.html(c.elements.$element.attr("title"));c.elements.$element.removeAttr("title").data("ddHints",c);return c},showHint:function(){this.elements.$hint.stop(!0).fadeIn(300)},hideHint:function(){this.elements.$hint.stop(!0).fadeOut(300)},moveHint:function(a){var d=this.elements.$hint.outerHeight(!0),
c=this.elements.$hint.outerWidth(!0);a.top+d>b.ddTools.windowHeight&&(a.top-=d);a.left+c>b.ddTools.windowWidth&&(a.left-=c);this.elements.$hint.css({left:a.left,top:a.top})}},jQueryFn:{ddHints:function(){var a=b.ddUI.components.hints;return b(this).filter("[title]").filter('[title!=""]').each(function(){a.instance.construct({elements:{$element:b(this)}})})}}});b.ddUI.installComponent({name:"cssAnimate",jQueryFn:{ddCssAnimate:function(a,d,c){for(var e in arguments)b.isPlainObject(arguments[e])?a=arguments[e]:
b.isNumeric(arguments[e])?d=arguments[e]:b.isFunction(arguments[e])&&(c=arguments[e]);b.isNumeric(d)||(d=300);var f=!1,h=!1,g=b.isFunction(c);b.each(a,function(b,c){"hide"==c?(f=!0,a[b]=0):"show"==c&&(h=!0,a[b]="")});return b(this).each(function(){var e=this,l=b(e);h&&l.show();setTimeout(function(){l.css(a)},10);(f||g)&&setTimeout(function(){f&&l.hide();g&&c.call(e)},d)})}}});b.ddUI.installComponent({name:"getRealImageSize",jQueryFn:{ddGetRealImageSize:function(){var a=b(this),d={width:b.ddTools.parseInt(a.get(0).naturalWidth),
height:b.ddTools.parseInt(a.get(0).naturalHeight)};if(0>=d.width||0>=d.height)a=a.eq(0).clone().appendTo(b.ddTools.$body).hide(),0<a.length&&(a.removeAttr("width"),a.removeAttr("height"),a.attr("style","width: auto !important; height: auto !important;"),d.width=a.width(),d.height=a.height(),a.remove());return d}}});b.ddUI.installComponent({name:"activeScroll",params:{distance:50,event:"click"},jQueryFn:{ddActiveScroll:function(a){a=b.extend({},b.ddUI.components.activeScroll.params,a||{});return b(this).each(function(){var d=
b(this);b.ddTools.$window.on("scroll load",function(){b.ddTools.windowScrollTop+b.ddTools.windowHeight+a.distance>=d.offset().top&&d.trigger(a.event)})})}}});b.ddUI.installComponent({name:"animationAppearance",params:{appearanceClass_show:"ddAnimationAppearance_show",offset:-200,fadeIn_easingTime:1E3,fadeIn_easingType:"easeOutCubic"},jQueryFn:{ddAnimationAppearance:function(a){var d=b.ddUI.components.animationAppearance,c=b(this);a=b.extend({},d.params,a||{});d=c.each(function(){var c=b(this);c.hasClass(a.appearanceClass_show)||
c.css({opacity:0})});b.ddTools.$window.on("scroll",function(){var d=b.ddTools.windowScrollTop+b.ddTools.windowHeight;d+=b.ddTools.parseInt(a.offset);c.each(function(){var c=b(this),e=c.offset().top;d>=e&&!c.hasClass(a.appearanceClass_show)&&(c.addClass(a.appearanceClass_show),c.transition({opacity:1},a.fadeIn_easingTime,a.fadeIn_easingType))})}).trigger("scroll");return d}}});b.ddUI.installComponent({name:"cookieForm",params:{cookieName:!1,data:!1,fieldsSelector:'input[type="text"],input[type="email"],input[type="tel"]',
cookieOpt:b.ddTools.cookieOpt,writeEmptyVal:!1,replaceFilledFields:!0},cookieToObj:function(a){if(a.cookieName)if(b.cookie(a.cookieName))try{var d=b.parseJSON(b.cookie(a.cookieName))}catch(c){d=!1}else b.cookie(a.cookieName,"",a.cookieOpt),d=!1;else d=!1;return d},jQueryFn:{ddFormToCookie:function(a){var d=b.ddUI.components.cookieForm;a=b.extend({},d.params,a);var c=d.cookieToObj(a);c||(c={});b(this).each(function(){b(this).find(a.fieldsSelector).filter('[name][name!=""]').each(function(){var d=b(this),
f=d.val();if(a.writeEmptyVal||""!=f)c[d.attr("name")]=f})});a.cookieName&&b.cookie(a.cookieName,b.ddTools.objectToJSON(c),a.cookieOpt);return c},ddCookieToForm:function(a){var d=b.ddUI.components.cookieForm;a=b.extend({},d.params,a);var c=d.cookieToObj(a);if(!c)if(a.data)c=a.data;else return b(this);return b(this).each(function(){var d=b(this).find(a.fieldsSelector),f;for(f in c){var h=d.filter("[name="+f+"]");0<h.length&&(a.writeEmptyVal||""!=c[f])&&(a.replaceFilledFields||""==b.trim(h.val()))&&
h.val(c[f]).trigger("change")}})}}});b.ddUI.installComponent({name:"numeric",instance:{params:{allowFloat:!0,decimals:0,fixedDecimals:!1,allowEmpty:!1,chars:"!@#$%^&*()+=[]\\';/{}|\":<>?~` abcdefghijklmnopqrstuvwxyzабвгдеёжзийклмнопрстуфхцчшщьъыэюяABCDEFGHIJKLMNOPQRSTUVWXYZАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЪЫЭЮЯ"},elements:{$element:b()},construct:function(a){a=b.extend(!0,{},this,a);"undefined"!=typeof a.elements.$element.data("ddNumeric")&&a.elements.$element.data("ddNumeric").destruct();a.construct_prepareParams();
a.construct_bindEvents();delete a.construct;delete a.construct_prepareParams;delete a.construct_bindEvents;a.elements.$element.data("ddNumeric",a);return a},construct_prepareParams:function(){this.params.allowFloat||(this.params.chars+=".,");this.params.decimals=b.ddTools.parseInt(this.params.decimals);0==this.params.decimals&&(this.params.decimals=!1)},construct_bindEvents:function(){this.elements.$element.on("keypress.ddNumeric",b.proxy(this.pressKey,this)).on("change.ddNumeric",b.proxy(this.changeValue,
this))},destruct:function(){this.elements.$element.off("keypress.ddNumeric",this.pressKey).off("change.ddNumeric",this.changeValue);this.elements.$element.removeData("ddNumeric")},pressKey:function(a){var b=a.charCode?String.fromCharCode(a.charCode):String.fromCharCode(a.which);-1!=this.params.chars.indexOf(b)&&a.preventDefault();a.ctrlKey&&"v"==b&&a.preventDefault()},changeValue:function(){var a=this.elements.$element.val();this.params.allowEmpty&&0==a.length||(this.params.allowFloat?(a=b.ddTools.parseFloat(a,
this.params.decimals),this.params.fixedDecimals&&(a=a.toFixed(this.params.decimals))):a=b.ddTools.parseInt(a),this.elements.$element.val(a))}},jQueryFn:{ddNumeric:function(a){var d=b.ddUI.components.numeric;return b(this).each(function(){d.instance.construct({params:a||{},elements:{$element:b(this)}})})}}});b.ddUI.installComponent({name:"maxLength",params:{max:150,containerSelector:!1,parentSelector:!1,suffixSelector:!1,suffix:"ов,,а",errorClass:"ddMaxLength_error",warningClass:"ddMaxLength_error",
canWriteError:!0,minProcent:7},jQueryFn:{ddMaxLength:function(a){a=b.extend({},b.ddUI.components.maxLength.params,a);var d=a.max/100*a.minProcent,c=function(c,f,h){f=a.max-f;0>f||f<d?c.removeClass(a.warningClass).addClass(a.errorClass):f<2*d?c.removeClass(a.errorClass).addClass(a.warningClass):c.removeClass(a.warningClass).removeClass(a.errorClass);c.text(f);h&&h.text(b.ddTools.padej(f,a.suffix))};return b(this).each(function(){var d=b(this),f=d.val();if(a.containerSelector){var h=a.parentSelector?
d.parents(a.parentSelector+":first"):d.parent();var g=h.find(a.containerSelector),k;a.suffixSelector&&(k=h.find(a.suffixSelector))}g&&c(g,f.length,k);a.canWriteError||d.val(f.substring(0,a.max));d.on("keyup change",function(){var d=b(this),e=d.val();if(!a.canWriteError&&e.length>a.max)return d.val(e.substring(0,a.max)),!1;g&&c(g,e.length,k);return!0})})}}});b.ddUI.installComponent({name:"showPassword",autoInit:!0,init:function(){b(".ddShowPassword_element").ddShowPassword()},instance:{templates:{button:'<div class="fas ddShowPassword_button"></div>'},
cssClasses:{parent:"ddShowPassword_parent",element:"ddShowPassword_element",button:"ddShowPassword_button",buttonShow:"fa-eye",buttonHide:"fa-eye-slash"},elements:{$parent:b(),$element:b(),$button:b()},isPasswordVisible:!1,construct:function(a){a=b.extend(!0,{},this,a);"undefined"!=typeof a.elements.$element.data("ddShowPassword")&&a.elements.$element.data("ddShowPassword").destruct();a.construct_prepareElements();a.construct_bindEvents();delete a.construct;delete a.construct_prepareElements;delete a.construct_bindEvents;
a.elements.$element.data("ddShowPassword",a);return a},construct_prepareElements:function(){this.elements.$parent=this.elements.$element.parent();this.elements.$parent.addClass(this.cssClasses.parent);this.elements.$element.addClass(this.cssClasses.element);this.isPasswordVisible="password"==this.elements.$element.attr("type")?!1:!0;var a=this.elements.$element.position();this.elements.$button=b(this.templates.button);this.elements.$button.addClass(this.isPasswordVisible?this.cssClasses.buttonHide:
this.cssClasses.buttonShow).appendTo(this.elements.$parent).css({left:a.left+this.elements.$element.outerWidth()-this.elements.$button.outerWidth(),top:a.top+this.elements.$element.outerHeight()/2-this.elements.$button.outerHeight()/2})},construct_bindEvents:function(){this.elements.$button.on("click.ddShowPassword",b.proxy(this.tuneVisibility,this))},destruct:function(){this.elements.$button.remove();this.elements.$parent.removeClass(this.cssClasses.parent);this.elements.$element.removeClass(this.cssClasses.element);
this.elements.$element.removeData("ddShowPassword")},onVisibility:function(){this.elements.$element.attr("type","text");this.elements.$button.addClass(this.cssClasses.buttonHide).removeClass(this.cssClasses.buttonShow);this.isPasswordVisible=!0},offVisibility:function(){this.elements.$element.attr("type","password");this.elements.$button.addClass(this.cssClasses.buttonShow).removeClass(this.cssClasses.buttonHide);this.isPasswordVisible=!1},tuneVisibility:function(){if(this.isPasswordVisible)this.offVisibility();
else this.onVisibility()}},jQueryFn:{ddShowPassword:function(){var a=b.ddUI.components.showPassword;return b(this).each(function(){a.instance.construct({elements:{$element:b(this)}})})}}});b.ddUI.installComponent({name:"fixed",instance:{params:{fixedClass:"ddUI_positionFixed",margin:0,clone:!0,cloneCopyAttrs:!1,unfixCondition:!1,unfixConditionClass:"ddFixed_elementUnfixed"},elements:{$element:b(),$clone:b()},isFixed:!1,elementTop:0,construct:function(a){a=b.extend(!0,{},this,a);"undefined"!=typeof a.elements.$element.data("ddFixed")&&
a.elements.$element.data("ddFixed").destruct();a.construct_createClone();b.ddTools.$window.on("scroll.ddFixed",b.proxy(a.tuneElement,a)).on("load.ddFixed",b.proxy(a.updateElementTop,a));a.updateElementTop();delete a.construct;delete a.construct_createClone;a.elements.$element.data("ddFixed",a);return a},construct_createClone:function(){this.params.clone&&(this.elements.$clone=b("<div></div>"),this.params.cloneCopyAttrs&&this.elements.$clone.attr("class",this.elements.$element.attr("class")).attr("style",
this.elements.$element.attr("style")),b.ddTools.$window.on("resize.ddFixed",b.proxy(this.updateCloneSize,this)),this.updateCloneSize())},destruct:function(){b.ddTools.$window.off("scroll.ddFixed",this.tuneElement).off("load.ddFixed",this.updateElementTop);this.params.clone&&(b.ddTools.$window.off("resize.ddFixed",this.updateCloneSize),this.elements.$clone.remove());b.isFunction(this.params.unfixCondition)&&this.elements.$element.removeClass(this.params.unfixConditionClass);this.elements.$element.removeData("ddFixed")},
updateElementTop:function(){this.isFixed||(this.elementTop=this.elements.$element.offset().top-this.params.margin,this.tuneElement())},updateCloneSize:function(){this.isFixed||this.elements.$clone.css({width:this.elements.$element.outerWidth(!0),height:this.elements.$element.outerHeight(!0)})},runUnfixCondition:function(){var a=!1;b.isFunction(this.params.unfixCondition)&&((a=this.params.unfixCondition(this.elements.$element))?this.elements.$element.addClass(this.params.unfixConditionClass):this.elements.$element.removeClass(this.params.unfixConditionClass));
return a},fixElement:function(){this.isFixed||(this.elements.$element.addClass(this.params.fixedClass).trigger("ddFixed",[!0]),this.params.clone&&this.elements.$clone.insertAfter(this.elements.$element),this.isFixed=!0)},unfixElement:function(){this.isFixed&&(this.elements.$element.removeClass(this.params.fixedClass).trigger("ddFixed",[!1]),this.params.clone&&this.elements.$clone.remove(),this.isFixed=!1)},tuneElement:function(){b.ddTools.windowScrollTop>=this.elementTop&&!this.runUnfixCondition()?
this.fixElement():this.unfixElement()}},jQueryFn:{ddFixed:function(a){var d=b.ddUI.components.fixed;return b(this).each(function(){d.instance.construct({params:a||{},elements:{$element:b(this)}})})}}});b.ddUI.installComponent({name:"smartColumnScrolling",instance:{params:{fixedClass:"ddUI_positionFixed",margin:0},elements:{$element:b(),$parent:b()},columnHeight:0,columnTop:0,isParentBody:!1,parentScrollTopCurrent:0,parentScrollTopPrevious:0,deltaHeight:0,construct:function(a){a=b.extend(!0,{},this,
a);"undefined"!=typeof a.elements.$element.data("ddSmartColumnScrolling")&&a.elements.$element.data("ddSmartColumnScrolling").destruct();a.elements.$parent=a.elements.$element.parent();a.elements.$parent.is("body")&&(a.elements.$parent=b.ddTools.$window,a.isParentBody=!0);a.updateHeight();delete a.construct;a.elements.$element.data("ddSmartColumnScrolling",a);return a},destruct:function(){this.unbindEvents();this.deltaHeight=-1;this.parentScrollTopCurrent=0;this.setColumnFixedClass();this.elements.$element.removeData("ddSmartColumnScrolling")},
bindEvents:function(){var a=this;a.elements.$parent.add(a.elements.$element).on("resize.ddSmartColumnScrolling",function(){a.updateHeight()});a.elements.$parent.on("scroll.ddSmartColumnScrolling",function(){a.parentScrollTopCurrent=a.isParentBody?a.elements.$parent.scrollTop()||b.ddTools.$body.scrollTop():a.elements.$parent.scrollTop();a.setColumnTop();a.setColumnFixedClass();a.parentScrollTopPrevious=a.parentScrollTopCurrent})},unbindEvents:function(){this.elements.$parent.add(this.elements.$element).off(".ddSmartColumnScrolling")},
updateHeight:function(){this.columnHeight=this.elements.$element.outerHeight()+this.params.margin;this.deltaHeight=this.elements.$parent.height()-this.columnHeight;0>this.deltaHeight?((this.isParentBody?b.ddTools.$body:this.elements.$parent).css("min-height",this.columnHeight),this.bindEvents(),this.elements.$parent.trigger("scroll.ddSmartColumnScrolling")):(this.unbindEvents(),this.setColumnFixedClass())},setColumnTop:function(){newTop=this.columnTop+(this.parentScrollTopPrevious-this.parentScrollTopCurrent);
0<newTop?newTop=0:newTop<this.deltaHeight&&(newTop=this.deltaHeight);newTop!=this.columnTop&&(this.columnTop=newTop,this.elements.$element.css("transform","translateY("+this.columnTop+"px)"))},setColumnFixedClass:function(){0<=this.deltaHeight||0<this.parentScrollTopCurrent?this.elements.$element.addClass(this.params.fixedClass):this.elements.$element.removeClass(this.params.fixedClass)}},jQueryFn:{ddSmartColumnScrolling:function(a){var d=b.ddUI.components.smartColumnScrolling;return b(this).each(function(){d.instance.construct({params:a||
{},elements:{$element:b(this)}})})}}});b.ddUI.installComponent({name:"spoiler",autoInit:!0,init:function(){b("[data-dd-spoiler_for]").ddSpoiler()},instance:{params:{linkHiddenClass:"ddSpoiler_linkContentHidden"},elements:{$element:b(),$content:b()},isContentHidden:!1,construct:function(a){a=b.extend(!0,{},this,a);"undefined"!=typeof a.elements.$element.data("ddSpoiler")&&a.elements.$element.data("ddSpoiler").destruct();var d=b.trim(a.elements.$element.attr("data-dd-spoiler_for"));0<d.length&&(a.elements.$content=
a.elements.$element.parents(":has("+d+"):first").find(d+":first"),a.isContentHidden=a.elements.$content.is(":hidden"),a.isContentHidden&&a.elements.$element.addClass(a.params.linkHiddenClass),a.elements.$element.on("click.ddSpoiler ddToggle.ddSpoiler",b.proxy(a.tuneContent,a)),delete a.construct,a.elements.$element.data("ddSpoiler",a));return a},destruct:function(){this.elements.$element.on("click.ddSpoiler ddToggle.ddSpoiler",this.tuneContent);this.elements.$element.removeData("ddSpoiler")},tuneContent:function(){var a=
this,d=b.Event("ddBeforeActivate.ddSpoiler");a.isContentHidden=a.elements.$content.is(":hidden");d.isContentHidden=a.isContentHidden;a.elements.$element.trigger(d);if(!d.isDefaultPrevented()){var c=b.Event("ddAfterActivate.ddSpoiler");d=a.elements.$content.css({height:"auto"}).outerHeight(!0);a.isContentHidden?(c.isContentHidden=a.isContentHidden=!1,a.elements.$content.css({display:"block",height:0,opacity:0}).transit({height:d,opacity:1},function(){a.elements.$content.css({height:""});a.elements.$element.trigger(c)})):
(c.isContentHidden=a.isContentHidden=!0,a.elements.$content.css({height:d}).transit({height:0,opacity:0},function(){a.elements.$content.css({display:"none",height:"",opacity:""});a.elements.$element.trigger(c)}));a.elements.$element.toggleClass(a.params.linkHiddenClass)}}},jQueryFn:{ddSpoiler:function(a){var d=b.ddUI.components.spoiler;return b(this).each(function(){d.instance.construct({params:a||{},elements:{$element:b(this)}})})}}});b.ddUI.installComponent({name:"recentPages",params:{itemTemplate:'<a href="[+url+]">[+title+]</a> ',
outerTemplate:"",maxItemsNumber:16},attrs:{currentPageData:"data-dd-recent-pages_current"},currentPageUrl:location.protocol+"//"+location.host+location.pathname+(location.search?location.search:""),init:function(a){a=b.extend({},this.params,a||{});this.saveCurrentPage(a)},readDataFromCookie:function(){var a=b.cookie("jQuery.ddRecentPages");if("string"==b.type(a)&&0<b.trim(a).length)try{a=b.parseJSON(a)}catch(d){a=[]}else a=[];return a},writeDataToCookie:function(a){b.cookie("jQuery.ddRecentPages",
b.ddTools.objectToJSON(a.data),b.ddTools.cookieOpt)},saveCurrentPage:function(a){var d=this.readDataFromCookie();b.isPlainObject(a.pageData)||(a.pageData=this.getCurrentPageData());if(!b.isEmptyObject(a.pageData)){d.unshift(b.extend({url:this.currentPageUrl},a.pageData));for(var c=1;c<d.length;c++)d[c].url==d[0].url&&d.splice(c,1);d.length>a.maxItemsNumber+1&&d.splice(a.maxItemsNumber,d.length-a.maxItemsNumber);this.writeDataToCookie({data:d})}},getCurrentPageData:function(){var a=this,d={};b("["+
a.attrs.currentPageData+"]").each(function(){var c=b(this),e=b.parseJSON(c.attr(a.attrs.currentPageData)),f=c;e.name&&(e.value?c=e.value:(e.valueSelector&&(f=c.find(e.valueSelector)),c=e.valueInAttr?f.attr(e.valueInAttr):f.html()),d[e.name]=c)});return d},renderWidget:function(a){var d="";a=b.extend({},this.params,a||{});for(var c=a.data.length>a.maxItemsNumber?a.maxItemsNumber:a.data.length,e=0;e<c;e++)a.data[e].url==this.currentPageUrl?c<a.data.length&&c++:d+=b.ddTools.parseText({text:a.itemTemplate,
data:a.data[e]});""!=d&&""!=a.outerTemplate&&(d=b.ddTools.parseText({text:a.outerTemplate,data:{result:d}}));a.$target.html(d)},jQueryFn:{ddRecentPages:function(a){var d=b.ddUI.components.recentPages;a=b.extend(d.params,a||{});d.saveCurrentPage(a);var c=d.readDataFromCookie();return b(this).each(function(){d.renderWidget(b.extend({},a,{data:c,$target:b(this)}))})}}});b.ddUI.installComponent({name:"circleThumbs",params:{updateLoaderNumber:50,autoScrollTime:5E3},templates:{parent_element:'<div class="ddCircleThumbs_element"></div>',
parent_element_item:'<a class="false ddCircleThumbs_element_item" href="#showImage"><span class="ddCircleThumbs_element_item_timer"><span class="ddCircleThumbs_element_item_timer_ticker ddCircleThumbs_element_item_timer_tickerLeft"></span><span class="ddCircleThumbs_element_item_timer_ticker ddCircleThumbs_element_item_timer_tickerRight"></span></span></a>'},classes:{itemActive:"ddUI_stateActive",item_timerLoaded50:"ddCircleThumbs_element_item_timerLoaded50",item_timer_tickerLeft:"ddCircleThumbs_element_item_timer_tickerLeft",
item_timer_tickerRight:"ddCircleThumbs_element_item_timer_tickerRight"},jQueryFn:{ddCircleThumbs:function(a){var d=b.ddUI.components.circleThumbs;b(this).each(function(){var c={params:{}};b.extend(c.params,d.params,a);c.$=b(this);c.init=function(){var a="";if(void 0!==c.$.data("ddCarousel")){c.type="carousel";var f=c.$.data("ddCarousel").data.itemsOgininalLength}else c.type="gallery",f=c.$.find(".ddGallery").data("ddGallery").items.length;if(1<f){for(var h=0;h<f;h++)a+=d.templates.parent_element_item;
b(d.templates.parent_element).append(b(a)).appendTo(c.$);c.$parent_element_items=c.$.find(".ddCircleThumbs_element_item");c.$parent_element_items_timers=c.$.find(".ddCircleThumbs_element_item_timer");c.$parent_element_items_timers_tickersLeft=c.$.find(".ddCircleThumbs_element_item_timer_tickerLeft");c.$parent_element_items_timers_tickersRight=c.$.find(".ddCircleThumbs_element_item_timer_tickerRight");c.currentIntervalId=null;c.resetSliderLoaders(0);c.bindEvents()}};c.bindEvents=function(){b.ddTools.$body.on("click",
".ddCircleThumbs_element_item",function(){var a=b(this);if("carousel"==c.type){var d=c.$.data("ddCarousel");a=a.index();d.scrollTo(a>=d.data.itemsOgininalLength?0:a)}else"gallery"==c.type&&(d=a.parents("div:has(.ddGallery):first").find(".ddGallery").data("ddGallery"),b.ddGallery.activateItem({ddGalleryInstance:d,index:a.index(),domManipulation:!0}))});c.$.on("ddBeforeShow.ddGallery ddBeforeScroll",function(a){clearInterval(c.currentIntervalId);a=a.index;"carousel"==c.type&&(a=c.$.data("ddCarousel").data.realCurrentItemNumber);
c.resetSliderLoaders(a)})};c.resetSliderLoaders=function(a){clearInterval(c.currentIntervalId);var f=0,e=(c.params.updateLoaderNumber-1)/2;c.$parent_element_items_timers_tickersLeft.css("transform","rotate(0deg)");c.$parent_element_items_timers_tickersRight.css({transform:"rotate(0deg)"});c.$parent_element_items_timers.removeClass(d.classes.item_timerLoaded50);c.$parent_element_items.filter("."+d.classes.itemActive).removeClass(d.classes.itemActive);c.$parent_element_items.eq(a).addClass(d.classes.itemActive);
c.currentIntervalId=setInterval(function(){var g=180*(f+1)/e;if(f<e)180<g&&(g=180),c.$parent_element_items.eq(a).find("."+d.classes.item_timer_tickerLeft).css("transform","rotate("+g+"deg)");else if(f<c.params.updateLoaderNumber)360<g&&(g=360),c.$parent_element_items_timers.eq(a).addClass(d.classes.item_timerLoaded50),c.$parent_element_items.eq(a).find("."+d.classes.item_timer_tickerRight).css({transform:"rotate("+(g-180)+"deg)"});else if("carousel"==c.type)if(g=c.$.data("ddCarousel"),0<g.data.buttons.$next.length)g.data.buttons.$next.trigger("click");
else{var h=b.ddTools.parseInt(a)+1;g.scrollTo(h>=g.data.itemsOgininalLength?0:h)}else"gallery"==c.type&&(g=c.$.find(".ddGallery").data("ddGallery"),b.ddGallery.switchItem({ddGalleryInstance:g,direction:1}));f+=1},parseInt(c.params.autoScrollTime/c.params.updateLoaderNumber))};c.init()})}}});b(function(){b.ddUI.init()})})(jQuery);